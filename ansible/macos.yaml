---
- name: Configure personal machine.
  connection: local
  hosts:
    - macos
  vars_files:
    - vars/homebrew.yaml
  roles:
    - role: elliotweiser.osx-command-line-tools
    - role: geerlingguy.mac.homebrew
      tags: ["homebrew"]
      vars:
        homebrew_installed_packages: "{{ hostvars[inventory_hostname].homebrew_apps + homebrew_apps }}"
        homebrew_cask_apps: "{{ hostvars[inventory_hostname].homebrew_casks + homebrew_casks }}"
    - role: geerlingguy.mac.mas
      when: mas_installed_apps or mas_installed_app_ids
      tags: ["mas"]
    - role: geerlingguy.mac.dock
      when: configure_dock
      tags: ["dock"]
